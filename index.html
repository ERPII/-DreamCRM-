<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8"><script src="https://cdn.tailwindcss.com"></script>
    <title>DreamCRM - 住</title>
    <style>
        body { background: radial-gradient(circle at top right, #1e293b, #020617); font-family: sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.1); }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-6 text-white">
    <div class="glass w-full max-w-md p-10 rounded-[2.5rem] shadow-2xl text-center">
        <div class="mb-8">
            <div class="text-5xl mb-4"></div>
            <h1 class="text-3xl font-black italic tracking-tighter">DreamCRM</h1>
            <p class="text-slate-500 text-sm">注专转 砖, 专住   注</p>
        </div>

        <div class="space-y-4">
            <input id="email" type="email" placeholder=" 注" class="w-full bg-slate-800/50 p-4 rounded-2xl outline-none focus:ring-2 focus:ring-blue-600 border border-slate-700">
            <input id="pass" type="password" placeholder="住住" class="w-full bg-slate-800/50 p-4 rounded-2xl outline-none focus:ring-2 focus:ring-blue-600 border border-slate-700">
            <button onclick="doLogin()" id="lBtn" class="w-full bg-blue-600 hover:bg-blue-700 py-4 rounded-2xl font-bold shadow-lg shadow-blue-500/20 transition-all">转专转</button>
        </div>

        <div class="flex items-center my-8 text-slate-700"><div class="flex-1 border-t"></div><span class="px-4">OR</span><div class="flex-1 border-t"></div></div>

        <button onclick="googleLogin()" class="w-full bg-white text-slate-900 py-3 rounded-2xl font-bold flex items-center justify-center gap-2 hover:scale-[1.02] transition-transform shadow-md">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-5">
            转专转 专 注 Google
        </button>
    </div>

    <script type="module" src="app.js"></script>
    <script type="module">
        import { getAuth, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        window.doLogin = async () => {
            const btn = document.getElementById('lBtn'); btn.innerText = "转专...";
            const res = await window.DreamCRM.login(document.getElementById('email').value, document.getElementById('pass').value);
            if(res.success) window.location.href = 'dashboard.html';
            else { alert(res.error); btn.innerText = "转专转"; }
        };
        window.googleLogin = async () => {
            try { await signInWithPopup(getAuth(), new GoogleAuthProvider()); window.location.href = 'dashboard.html'; }
            catch(e) { console.error(e); }
        };
    </script>
</body>
</html>
